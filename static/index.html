<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8"/>
  <title>McPherson Weather • NWS KMPR</title>
  <meta name="viewport" content="width=device-width,initial-scale=1"/>
  <link rel="stylesheet" href="/styles.css"/>
</head>
<body>
  <header>
    <h1>McPherson Weather — NWS Station KMPR</h1>
    <p class="sub">Live from api.weather.gov • Rolling 48 hours • Pressure in inHg</p>
  </header>

  <section id="current" class="card">
    <h2>Current Conditions</h2>
    <div id="currentContent" class="grid"></div>
    <small id="stamp"></small>
  </section>

  <section class="card">
    <div class="actions">
      <button id="copyBtn">Copy 48h CSV to Clipboard</button>
      <a id="downloadLink" href="/api/history.csv" download>Download CSV</a>
      <button id="refreshBtn">Refresh</button>
    </div>
    <div class="table-wrap">
      <table id="histTable">
        <thead>
          <tr>
            <th>Local Time</th>
            <th>Temp (°F)</th>
            <th>Dry Bulb (°F)</th>
            <th>Wet Bulb (°F)</th>
            <th>Humidity (%)</th>
            <th>Pressure (inHg)</th>
          </tr>
        </thead>
        <tbody id="histBody"></tbody>
      </table>
    </div>
  </section>

  <footer>
    <small>Data © National Weather Service (api.weather.gov). Observations can be delayed ~20 minutes by upstream QC.</small>
  </footer>

  <script src="/app.js"></script>
</body>
</html>
